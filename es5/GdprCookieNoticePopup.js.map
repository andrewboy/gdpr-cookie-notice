{"version":3,"sources":["../src/GdprCookieNoticePopup.js"],"names":["gdprCookieManager","_isNoticeLoaded","_timeout","_pluginPrefix","_locale","description","accept","settings","_manager","locale","console","log","_build","window","setTimeout","document","documentElement","classList","add","body","insertAdjacentHTML","getTemplateHtml","_getTemplate","settingsButton","querySelectorAll","acceptButton","addEventListener","e","preventDefault","setEvent","remove","getElementsByClassName","template","data","Object","replace","i","j"],"mappings":";;;;;;;;AAAA;;AACA;;;;;AAGE,kBAAaA,iBAAb,EAAgC;AAAA;;AAC9B,SAAKC,eAAL,GAAuB,KAAvB;AACA,SAAKC,QAAL,GAAgB,GAAhB;AACA,SAAKC,aAAL,GAAqB,oBAArB;AACA,SAAKC,OAAL,GAAe;AACbC,yZADa;AAIbC,cAAQ,WAJK;AAKbC,gBAAU;AALG,KAAf;AAOA,SAAKC,QAAL,GAAgBR,iBAAhB;AACD;;AAED;;;;;;;8BAGWS,M,EAAQ;AACjB,WAAKL,OAAL,GAAeK,MAAf;AACD;;;2BAEO;AAAA;;AACNC,cAAQC,GAAR,CAAY,MAAZ;AACA,WAAKC,MAAL;;AAEA;AACAC,aAAOC,UAAP,CAAkB,YAAM;AACtBC,iBAASC,eAAT,CAAyBC,SAAzB,CAAmCC,GAAnC,CAAuC,MAAKf,aAAL,GAAqB,SAA5D;AACD,OAFD,EAEG,KAAKD,QAFR;AAGD;;;6BAES;AAAA;;AACR,UAAI,KAAKD,eAAT,EAA0B;AAAE;AAAQ;AACpCc,eAASI,IAAT,CAAcC,kBAAd,CAAiC,WAAjC,EAA8C,KAAKC,eAAL,CAAqB,KAAKC,YAAL,EAArB,EAA0C,KAAKlB,OAA/C,CAA9C;AACA,UAAImB,iBAAiBR,SAASS,gBAAT,CAA0B,MAAM,KAAKrB,aAAX,GAA2B,oBAArD,EAA2E,CAA3E,CAArB;AACA,UAAIsB,eAAeV,SAASS,gBAAT,CAA0B,MAAM,KAAKrB,aAAX,GAA2B,kBAArD,EAAyE,CAAzE,CAAnB;;AAEAoB,qBAAeG,gBAAf,CAAgC,OAAhC,EAAyC,UAACC,CAAD,EAAO;AAC9CA,UAAEC,cAAF;AACA,eAAKpB,QAAL,CAAcqB,QAAd,CAAuB,YAAvB;AACD,OAHD;;AAKAJ,mBAAaC,gBAAb,CAA8B,OAA9B,EAAuC,UAACC,CAAD,EAAO;AAC5CA,UAAEC,cAAF;AACA,eAAKpB,QAAL,CAAcqB,QAAd,CAAuB,qBAAvB;AACD,OAHD;;AAKA,WAAK5B,eAAL,GAAuB,IAAvB;AACD;;;2BAEO;AACNc,eAASC,eAAT,CAAyBC,SAAzB,CAAmCa,MAAnC,CAA0C,KAAK3B,aAAL,GAAqB,SAA/D;AACD;;;8BAEU;AACTY,eAASgB,sBAAT,CAAgC,KAAK5B,aAArC,EAAoD2B,MAApD;AACD;;;mCAEe;AACd;AAOD;;AAED;;;;oCACiBE,Q,EAAUC,I,EAAM;AAC/B,UAAI,OAAOD,QAAP,KAAoB,QAApB,IAAiCC,gBAAgBC,MAArD,EAA8D;AAC5D,eAAOF,SAASG,OAAT,CAAiB,cAAjB,EAAiC,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtD,cAAIJ,KAAKI,CAAL,CAAJ,EAAa;AACX,mBAAOJ,KAAKI,CAAL,CAAP;AACD,WAFD,MAEO;AACL,mBAAOD,CAAP;AACD;AACF,SANM,CAAP;AAOD,OARD,MAQO;AACL,eAAO,KAAP;AACD;AACF","file":"GdprCookieNoticePopup.js","sourcesContent":["import './sass/notice2/_variables.scss'\r\nimport './sass/notice2/_notice2.scss'\r\n\r\nexport default class {\r\n  constructor (gdprCookieManager) {\r\n    this._isNoticeLoaded = false\r\n    this._timeout = 500\r\n    this._pluginPrefix = 'gdpr-cookie-notice'\r\n    this._locale = {\r\n      description: `Ez a weboldal sütiket(cookie-kat) használ azért, hogy a weboldal működjön, statisztikai adatokat \r\n      gyűjtsön és jobb felhasználió élményt nyújtson. A Süti beállítások gombra kattintva több információt is megtudhat \r\n      erről. Az oldal további használatával beleegyezik a sütik használatába.`,\r\n      accept: 'Elfogadom',\r\n      settings: 'Süti beállítások'\r\n    }\r\n    this._manager = gdprCookieManager\r\n  }\r\n\r\n  /*\r\n   * @param Object locale\r\n   */\r\n  setLocale (locale) {\r\n    this._locale = locale\r\n  }\r\n\r\n  show () {\r\n    console.log('show')\r\n    this._build()\r\n\r\n    // Show the notice with a little timeout\r\n    window.setTimeout(() => {\r\n      document.documentElement.classList.add(this._pluginPrefix + '-loaded')\r\n    }, this._timeout)\r\n  }\r\n\r\n  _build () {\r\n    if (this._isNoticeLoaded) { return }\r\n    document.body.insertAdjacentHTML('beforeend', this.getTemplateHtml(this._getTemplate(), this._locale))\r\n    let settingsButton = document.querySelectorAll('.' + this._pluginPrefix + '-nav-item-settings')[0]\r\n    let acceptButton = document.querySelectorAll('.' + this._pluginPrefix + '-nav-item-accept')[0]\r\n\r\n    settingsButton.addEventListener('click', (e) => {\r\n      e.preventDefault()\r\n      this._manager.setEvent('show_modal')\r\n    })\r\n\r\n    acceptButton.addEventListener('click', (e) => {\r\n      e.preventDefault()\r\n      this._manager.setEvent('accept_all_category')\r\n    })\r\n\r\n    this._isNoticeLoaded = true\r\n  }\r\n\r\n  hide () {\r\n    document.documentElement.classList.remove(this._pluginPrefix + '-loaded')\r\n  }\r\n\r\n  destroy () {\r\n    document.getElementsByClassName(this._pluginPrefix).remove()\r\n  }\r\n\r\n  _getTemplate () {\r\n    return `<div class=\"gdpr-cookie-notice\">\r\n    <p class=\"gdpr-cookie-notice-description\">{{description}}</p>\r\n    <nav class=\"gdpr-cookie-notice-nav\">\r\n      <a href=\"#\" class=\"gdpr-cookie-notice-nav-item gdpr-cookie-notice-nav-item-settings\">{{settings}}</a>\r\n      <a href=\"#\" class=\"gdpr-cookie-notice-nav-item gdpr-cookie-notice-nav-item-accept gdpr-cookie-notice-nav-item-btn\">{{accept}}</a>\r\n    </nav>\r\n    </div>`\r\n  }\r\n\r\n  //string, object\r\n  getTemplateHtml (template, data) {\r\n    if (typeof template === 'string' && (data instanceof Object)) {\r\n      return template.replace(/{{([^}]+)}}/g, function (i, j) {\r\n        if (data[j]) {\r\n          return data[j]\r\n        } else {\r\n          return i\r\n        }\r\n      })\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n}"]}