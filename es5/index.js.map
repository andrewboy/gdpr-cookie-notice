{"version":3,"sources":["../src/index.js"],"names":["locales","GdprCookieNotice","options","_locale","locale","_timeout","timeout","_domain","domain","_expiration","expiration","_defaultChecked","setDefaultChecked","_namespace","namespace","_pluginPrefix","pluginPrefix","console","log","hu","template","getCurrentCookieSelection","showNotice","buildNotice","document","body","insertAdjacentHTML","getTemplateHtml","templateKey","data","templateStr","Object","replace","i","j","Cookies","getJSON","isDefaultChecked"],"mappings":"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","file":"index.js","sourcesContent":["import { default as template } from './template'\r\nimport * as locales from './locales'\r\nimport Cookies from 'js-cookie'\r\nimport './sass/main.scss'\r\n\r\n// function gdprCookieNotice (extOpts) {\r\n//   let defOpts = {\r\n//     locale: 'hu',\r\n//     timeout: 500,\r\n//     domain: null,\r\n//     expiration: 30,\r\n//     defaultChecked: false,\r\n//     namespace: 'gdprcookienotice',\r\n//     pluginPrefix: 'gdpr-cookie-notice'\r\n//   }\r\n//   let opts = Object.assign({}, defOpts, extOpts)\r\n//\r\n//   let categories = []\r\n//   let currentCookieSelection = getCookie()\r\n//\r\n//   console.log('gdprCookieNotice', locales, locales.hu, template)\r\n//   console.log(currentCookieSelection)\r\n//\r\n//   // if (!currentCookieSelection) {\r\n//     showNotice()\r\n//   // } else {\r\n//   //\r\n//   // }\r\n//\r\n//   function showNotice () {\r\n//     buildNotice()\r\n//\r\n//     // setTimeout(function(){\r\n//     //   document.documentElement.classList.add(pluginPrefix+'-loaded');\r\n//     // }, config.timeout);\r\n//   }\r\n//\r\n//   function buildNotice () {\r\n//     document.body.insertAdjacentHTML('beforeend', getTemplateHtml('bar', locales[opts.locale]))\r\n//   }\r\n//\r\n//   function getTemplateHtml (templateKey, data) {\r\n//     let templateStr = template[templateKey]\r\n//\r\n//     console.log('templateStr', templateStr, data)\r\n//\r\n//     if (typeof templateStr === 'string' && (data instanceof Object)) {\r\n//         return templateStr.replace(/{{([^}]+)}}/g, function (i, j) {\r\n//           if (data[j]) {\r\n//             return data[j]\r\n//           } else {\r\n//             return i\r\n//           }\r\n//         })\r\n//     } else {\r\n//       return false\r\n//     }\r\n//   }\r\n//\r\n//   function getCookie () {\r\n//     return Cookies.getJSON(opts.namespace)\r\n//   }\r\n// }\r\n\r\nclass GdprCookieNotice {\r\n  constructor (options) {\r\n    this._locale = options.locale ? options.locale : 'hu'\r\n    this._timeout = options.timeout ? options.timeout : 500\r\n    this._domain = options.domain ? options.domain : null\r\n    this._expiration =options.expiration ? options.expiration : 30\r\n    this._defaultChecked = options.setDefaultChecked ? options.setDefaultChecked : false\r\n    this._namespace = options.namespace ? options.namespace : 'gdprcookienotice'\r\n    this._pluginPrefix = options.pluginPrefix ? options.pluginPrefix : 'gdpr-cookie-notice'\r\n\r\n    console.log('gdprCookieNotice', locales, locales.hu, template)\r\n    console.log(this.getCurrentCookieSelection())\r\n\r\n    this.showNotice()\r\n  }\r\n\r\n  showNotice() {\r\n    this.buildNotice()\r\n  }\r\n\r\n  buildNotice () {\r\n    document.body.insertAdjacentHTML('beforeend', this.getTemplateHtml('bar', locales[this._locale]))\r\n  }\r\n\r\n  getTemplateHtml (templateKey, data) {\r\n    let templateStr = template[templateKey]\r\n\r\n    console.log('templateStr', templateStr, data)\r\n\r\n    if (typeof templateStr === 'string' && (data instanceof Object)) {\r\n        return templateStr.replace(/{{([^}]+)}}/g, function (i, j) {\r\n          if (data[j]) {\r\n            return data[j]\r\n          } else {\r\n            return i\r\n          }\r\n        })\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  getCurrentCookieSelection () {\r\n    return Cookies.getJSON(this._namespace)\r\n  }\r\n\r\n  set locale (locale) {\r\n    this._locale = locale\r\n  }\r\n\r\n  get locale () {\r\n    return this._locale\r\n  }\r\n\r\n  set timeout (timeout) {\r\n    this._timeout = timeout\r\n  }\r\n\r\n  get timeout () {\r\n    return this._timeout\r\n  }\r\n\r\n  set domain (domain) {\r\n    this._domain = domain\r\n  }\r\n\r\n  get domain () {\r\n    return this._domain\r\n  }\r\n\r\n  set expiration (expiration) {\r\n    this._expiration = expiration\r\n  }\r\n\r\n  get expiration () {\r\n    return this._expiration\r\n  }\r\n\r\n  set defaultChecked (isDefaultChecked) {\r\n    this._defaultChecked = isDefaultChecked\r\n  }\r\n\r\n  get defaultChecked () {\r\n    return this._defaultChecked\r\n  }\r\n\r\n  set namespace (namespace) {\r\n    this._namespace = namespace\r\n  }\r\n\r\n  get namespace () {\r\n    return this._namespace\r\n  }\r\n\r\n  set pluginPrefix (pluginPrefix) {\r\n    this._pluginPrefix = pluginPrefix\r\n  }\r\n\r\n  get pluginPrefix () {\r\n    return this._pluginPrefix\r\n  }\r\n}\r\n\r\n// export default { gdprCookieNotice }\r\nexport default { GdprCookieNotice }"]}