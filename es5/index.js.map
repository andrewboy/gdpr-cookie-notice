{"version":3,"sources":["../src/index.js"],"names":["locales","GdprCookieNotice2","gdprCookieManager","_isNoticeLoaded","_timeout","_pluginPrefix","_locale","description","accept","settings","_manager","locale","build","window","setTimeout","document","documentElement","classList","add","body","insertAdjacentHTML","getTemplateHtml","_getTemplate","settingsButton","querySelectorAll","acceptButton","addEventListener","e","preventDefault","setEvent","remove","template","data","Object","replace","i","j","GdprCookieModal","modal","statement","save","category","essential","title","desc","always_on","performance","analytics","marketing","_isModalLoaded","_isCategoriesCheckedByDefault","_statementUrl","_getModalTemplate","categoryList","querySelector","innerHTML","_getCategoryTemplate","assign","prefix","checked","input","label","catId","categories","setModalEventListeners","closeButton","statementButton","categoryTitles","saveButton","hide","open","length","currentTarget","parentNode","toggle","categorySettings","getElementById","GdprCookieNotice","options","_categories","timeout","_domain","domain","location","hostname","_expiration","expiration","categoriesCheckedByDefault","_namespace","namespace","pluginPrefix","_implicit","implicit","_cookiesAccepted","statementUrl","_gdprCookie","GdprCookie","_notice","_modal","isExists","show","_gdprCookiesEnabledEvt","CustomEvent","detail","get","dispatchEvent","globalSettingsButtons","console","log","evt","acceptAllCategories","acceptCategories","Error","isPerformanceAccepted","isAnalyticsAccepted","isMarketingAccepted","set","isNecessaryAccepted","isImplicit","isAccepted","isCategoriesCheckedByDefault"],"mappings":"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","file":"index.js","sourcesContent":["import { default as template } from './template'\r\nimport * as locales from './locales'\r\nimport './sass/gdpr-cookie-notice.scss'\r\nimport GdprCookie from './GdprCookie'\r\n\r\n// GdprCookieNotice2 ==================================\r\n\r\nclass GdprCookieNotice2 {\r\n  constructor (gdprCookieManager) {\r\n    this._isNoticeLoaded = false\r\n    this._timeout = 500\r\n    this._pluginPrefix = 'gdpr-cookie-notice'\r\n    this._locale = {\r\n      description: `Ez a weboldal sütiket(cookie-kat) használ azért, hogy a weboldal működjön, statisztikai adatokat \r\n      gyűjtsön és jobb felhasználió élményt nyújtson. A Süti beállítások gombra kattintva több információt is megtudhat \r\n      erről. Az oldal további használatával beleegyezik a sütik használatába.`,\r\n      accept: 'Elfogadom',\r\n      settings: 'Süti beállítások'\r\n    }\r\n    this._manager = gdprCookieManager\r\n  }\r\n\r\n  /*\r\n   * @param Object locale\r\n   */\r\n  setLocale (locale) {\r\n    this._locale = locale\r\n  }\r\n\r\n  show () {\r\n    this.build()\r\n\r\n    // Show the notice with a little timeout\r\n    window.setTimeout(() => {\r\n      document.documentElement.classList.add(this._pluginPrefix + '-loaded')\r\n    }, this._timeout)\r\n  }\r\n\r\n  build () {\r\n    if (this._isNoticeLoaded) { return }\r\n    document.body.insertAdjacentHTML('beforeend', this.getTemplateHtml(this._getTemplate(), this._locale))\r\n    let settingsButton = document.querySelectorAll('.' + this._pluginPrefix + '-nav-item-settings')[0]\r\n    let acceptButton = document.querySelectorAll('.' + this._pluginPrefix + '-nav-item-accept')[0]\r\n\r\n    settingsButton.addEventListener('click', (e) => {\r\n      e.preventDefault()\r\n      this._manager.setEvent('show_modal')\r\n    })\r\n\r\n    acceptButton.addEventListener('click', (e) => {\r\n      e.preventDefault()\r\n      this._manager.setEvent('accept_all_category')\r\n    })\r\n\r\n    this._isNoticeLoaded = true\r\n  }\r\n\r\n  hide () {\r\n    document.documentElement.classList.remove(this._pluginPrefix + '-loaded')\r\n  }\r\n\r\n  _getTemplate () {\r\n    return `<div class=\"gdpr-cookie-notice\">\r\n    <p class=\"gdpr-cookie-notice-description\">{{description}}</p>\r\n    <nav class=\"gdpr-cookie-notice-nav\">\r\n      <a href=\"#\" class=\"gdpr-cookie-notice-nav-item gdpr-cookie-notice-nav-item-settings\">{{settings}}</a>\r\n      <a href=\"#\" class=\"gdpr-cookie-notice-nav-item gdpr-cookie-notice-nav-item-accept gdpr-cookie-notice-nav-item-btn\">{{accept}}</a>\r\n    </nav>\r\n    </div>`\r\n  }\r\n\r\n  //string, object\r\n  getTemplateHtml (template, data) {\r\n    if (typeof template === 'string' && (data instanceof Object)) {\r\n      return template.replace(/{{([^}]+)}}/g, function (i, j) {\r\n        if (data[j]) {\r\n          return data[j]\r\n        } else {\r\n          return i\r\n        }\r\n      })\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n}\r\n\r\n// GdprCookieModal ======================================================\r\n\r\nclass GdprCookieModal {\r\n  constructor (gdprCookieManager) {\r\n    this._manager = gdprCookieManager\r\n    this._locale = {\r\n      modal: {\r\n        settings: 'Süti beállítások',\r\n        statement: 'Süti nyilatkozatunk',\r\n        save: 'Mentés'\r\n      },\r\n      category: {\r\n        essential: {\r\n          title: 'Szükséges sütik',\r\n          desc: 'Ezek a weboldal megfelelő megjelenéséhez szükséges sütik, amelyek nélkül nem működne a weboldal.',\r\n          always_on: 'Mindig betölt'\r\n        },\r\n        performance: {\r\n          title: 'Teljesítmény sütik',\r\n          desc: `Ezek a sütik kiegészítő funkciókat támogatnak az oldalon, például eltárolja, hogy milyen nyelven böngészi \r\n          a weboldalt. Ezek nélkül nem biztos, hogy minden megfelelően fog működni.`\r\n        },\r\n        analytics: {\r\n          title: 'Statisztika sütik',\r\n          desc: `Ezeket azért használjuk, hogy tájékozódni tudjunk arról, mikor, hányan és hogyan használják a \r\n          weboldalunkat. Ezekkel az adatokkal tudjuk később optimalizálni a weboldalunkat a megfelelő felhasználói \r\n          élményért.`\r\n        },\r\n        marketing: {\r\n          title: 'Marketing sütik',\r\n          desc: 'Ezek a sütik segítenek nekünk a hirdetések kezelésében, célzásában.'\r\n        }\r\n      }\r\n    }\r\n    this._pluginPrefix = 'gdpr-cookie-notice'\r\n    this._isModalLoaded = false\r\n    this._isCategoriesCheckedByDefault = false\r\n    this._statementUrl = 'https://index.hu/'\r\n  }\r\n\r\n  build () {\r\n    if (this._isModalLoaded) {\r\n      return\r\n    }\r\n\r\n    // Append modal into body\r\n    document.body.insertAdjacentHTML('beforeend', this.getTemplateHtml(this._getModalTemplate(), this._locale.modal))\r\n\r\n    // Get empty category list\r\n    let categoryList = document.querySelector('.' + this._pluginPrefix + '-modal-cookies')\r\n\r\n    //Load essential cookies\r\n    categoryList.innerHTML += this.getTemplateHtml(\r\n      this._getCategoryTemplate(),\r\n      Object.assign(\r\n        {},\r\n        this._locale.category.essential,\r\n        {\r\n          prefix: 'cookie_essential',\r\n          checked: 'checked=\"checked\"'\r\n        }\r\n      )\r\n    )\r\n    let input = document.querySelector('.' + this._pluginPrefix + '-modal-cookie-input')\r\n    let label = document.querySelector('.' + this._pluginPrefix + '-modal-cookie-input-switch')\r\n    label.innerHTML = this._locale.essential.always_on\r\n    label.classList.add(this._pluginPrefix + '-modal-cookie-state')\r\n    label.classList.remove(this._pluginPrefix + '-modal-cookie-input-switch')\r\n    input.remove()\r\n\r\n    for (let catId in this._manager.categories()) {\r\n      categoryList.innerHTML += this.getTemplateHtml(\r\n        this._getCategoryTemplate(),\r\n        Object.assign(\r\n          {},\r\n          this._locale.category[catId],\r\n          {\r\n            prefix: 'cookie_' + catId,\r\n            // checked: this._isCategoriesCheckedByDefault || (this._gdprCookie.isExists() && this._gdprCookie.get()[catId])\r\n            checked: true\r\n              ? 'checked=\"checked\"'\r\n              : ''\r\n          }\r\n        )\r\n      )\r\n    }\r\n\r\n    // Load click functions\r\n    this.setModalEventListeners()\r\n\r\n    // Make sure modal is only loaded once\r\n    this._isModalLoaded = true\r\n  }\r\n\r\n  show () {\r\n    this.build()\r\n    document.documentElement.classList.add(this._pluginPrefix + '-show-modal')\r\n  }\r\n\r\n  hide () {\r\n    document.documentElement.classList.remove(this._pluginPrefix + '-show-modal')\r\n  }\r\n\r\n  // Click functions in the modal\r\n  setModalEventListeners () {\r\n    let closeButton = document.querySelectorAll('.' + this._pluginPrefix + '-modal-close')[0]\r\n    let statementButton = document.querySelectorAll('.' + this._pluginPrefix + '-modal-footer-item-statement')[0]\r\n    let categoryTitles = document.querySelectorAll('.' + this._pluginPrefix + '-modal-cookie-title')\r\n    let saveButton = document.querySelectorAll('.' + this._pluginPrefix + '-modal-footer-item-save')[0]\r\n\r\n    closeButton.addEventListener('click', (e) => {\r\n      this.hide()\r\n      return false\r\n    })\r\n\r\n    statementButton.addEventListener('click', (e) => {\r\n      e.preventDefault()\r\n      window.open(\r\n        this._statementUrl,\r\n        '_blank'\r\n      )\r\n    })\r\n\r\n    for (let i = 0; i < categoryTitles.length; i++) {\r\n      categoryTitles[i].addEventListener('click', (e) => {\r\n        e.currentTarget.parentNode.parentNode.classList.toggle('open')\r\n        return false\r\n      })\r\n    }\r\n\r\n    saveButton.addEventListener('click', (e) => {\r\n      e.preventDefault()\r\n      saveButton.classList.add('saved')\r\n      window.setTimeout(() => {\r\n        saveButton.classList.remove('saved')\r\n      }, 1000)\r\n\r\n      let categorySettings = {}\r\n\r\n      for (let catId in this._manager.categories) {\r\n        categorySettings[catId] = document.getElementById(this._pluginPrefix + '-cookie_' + catId).checked\r\n      }\r\n\r\n      this._manager.setEvent(\r\n        'accept_categories',\r\n        {\r\n          performance: !!this._manager.categories.performance && document.getElementById(this._pluginPrefix + '-cookie_performance').checked,\r\n          analytics: !!this._manager.categories.analytics && document.getElementById(this._pluginPrefix + '-cookie_analytics').checked,\r\n          marketing: !!this._manager.categories.marketing && document.getElementById(this._pluginPrefix + '-cookie_marketing').checked\r\n        }\r\n      )\r\n      window.setTimeout(() => {\r\n        this.hide()\r\n      }, 1000)\r\n    })\r\n  }\r\n\r\n  _getModalTemplate () {\r\n    return `<div class=\"gdpr-cookie-notice\">\r\n    <p class=\"gdpr-cookie-notice-description\">{{description}}</p>\r\n    <nav class=\"gdpr-cookie-notice-nav\">\r\n      <a href=\"#\" class=\"gdpr-cookie-notice-nav-item gdpr-cookie-notice-nav-item-settings\">{{settings}}</a>\r\n      <a href=\"#\" class=\"gdpr-cookie-notice-nav-item gdpr-cookie-notice-nav-item-accept gdpr-cookie-notice-nav-item-btn\">{{accept}}</a>\r\n    </nav>\r\n    </div>`\r\n  }\r\n\r\n  _getCategoryTemplate () {\r\n    return `<li class=\"gdpr-cookie-notice-modal-cookie\">\r\n    <div class=\"gdpr-cookie-notice-modal-cookie-row\">\r\n      <h3 class=\"gdpr-cookie-notice-modal-cookie-title\">{{title}}</h3>\r\n      <input type=\"checkbox\" name=\"gdpr-cookie-notice-{{prefix}}\" id=\"gdpr-cookie-notice-{{prefix}}\" class=\"gdpr-cookie-notice-modal-cookie-input\" {{checked}}>\r\n      <label class=\"gdpr-cookie-notice-modal-cookie-input-switch\" for=\"gdpr-cookie-notice-{{prefix}}\"></label>\r\n    </div>\r\n    <p class=\"gdpr-cookie-notice-modal-cookie-info\">{{desc}}</p>\r\n    </li>`\r\n  }\r\n\r\n  //string, object\r\n  getTemplateHtml (template, data) {\r\n    if (typeof template === 'string' && (data instanceof Object)) {\r\n      return template.replace(/{{([^}]+)}}/g, function (i, j) {\r\n        if (data[j]) {\r\n          return data[j]\r\n        } else {\r\n          return i\r\n        }\r\n      })\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n}\r\n\r\n// GdprCookieNotice =======================================================\r\n\r\nclass GdprCookieNotice {\r\n  constructor (options) {\r\n    this._categories = options.categories ? options.categories : []\r\n    this._locale = options.locale ? options.locale : 'hu'\r\n    this._timeout = options.timeout ? options.timeout : 500\r\n    this._domain = options.domain ? options.domain : window.location.hostname\r\n    this._expiration = options.expiration ? options.expiration : 30\r\n    this._isCategoriesCheckedByDefault = options.categoriesCheckedByDefault ? options.categoriesCheckedByDefault : false\r\n    this._namespace = options.namespace ? options.namespace : 'gdprcookienotice'\r\n    this._pluginPrefix = options.pluginPrefix ? options.pluginPrefix : 'gdpr-cookie-notice'\r\n    this._implicit = options.implicit ? options.implicit : false\r\n    this._cookiesAccepted = false\r\n    this._statementUrl = options.statementUrl ? options.statementUrl : ''\r\n    this._gdprCookie = new GdprCookie(this._namespace, this._expiration, this._domain)\r\n    //\r\n    this._notice = new GdprCookieNotice2(this)\r\n    this._modal = new GdprCookieModal(this)\r\n\r\n    if (!this._gdprCookie.isExists()) {\r\n      this._notice.show()\r\n\r\n      // if (this._implicit) {\r\n      //   this.acceptOnScroll()\r\n      // }\r\n    } else {\r\n      //   this.deleteCookies(this.getCurrentCookieSelection())\r\n      this._gdprCookiesEnabledEvt = new CustomEvent('gdprCookiesEnabled', {detail: this._gdprCookie.get()})\r\n      document.dispatchEvent(this._gdprCookiesEnabledEvt)\r\n    }\r\n\r\n    // Settings button on the page somewhere\r\n    let globalSettingsButtons = document.querySelectorAll('.' + this._pluginPrefix + '-settings-button')\r\n\r\n    if (globalSettingsButtons) {\r\n      for (let i in globalSettingsButtons) {\r\n        console.log(i, globalSettingsButtons[i])\r\n        globalSettingsButtons[i].addEventListener('click', (e) => {\r\n          e.preventDefault()\r\n          this._modal.show()\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  setEvent (evt, data) {\r\n    switch (evt) {\r\n      case 'accept_all_category':\r\n        this.acceptAllCategories()\r\n        break\r\n\r\n      case 'accept_categories':\r\n        this.acceptCategories(data.performance, data.analytics, data.marketing)\r\n        break\r\n\r\n      case 'show_modal':\r\n        this._modal.show()\r\n        break\r\n\r\n      default:\r\n        throw new Error('Event type not supported')\r\n    }\r\n  }\r\n\r\n  acceptAllCategories () {\r\n    this.acceptCategories(\r\n      !!this._categories.performance,\r\n      !!this._categories.analytics,\r\n      !!this._categories.marketing,\r\n    )\r\n  }\r\n\r\n  //COOKIE =============================================================================================================\r\n\r\n  // deleteCookies (savedCookies) {\r\n  //   for (let i in this._categories) {\r\n  //     if (Object.keys(savedCookies).indexOf(i) >= 0 || !savedCookies[i]) {\r\n  //       Cookies.remove(i)\r\n  //     }\r\n  //   }\r\n  //\r\n  //   if (!savedCookies) {\r\n  //     this.showNotice()\r\n  //   } else {\r\n  //     this.hideNotice()\r\n  //   }\r\n  // }\r\n\r\n  acceptCategories (isPerformanceAccepted, isAnalyticsAccepted, isMarketingAccepted) {\r\n    console.log('categorySettings', isPerformanceAccepted, isAnalyticsAccepted, isMarketingAccepted)\r\n    // Load marketing scripts that only works when cookies are accepted\r\n    this._gdprCookie.set(\r\n      true,\r\n      isPerformanceAccepted,\r\n      isAnalyticsAccepted,\r\n      isMarketingAccepted\r\n    )\r\n    this._gdprCookiesEnabledEvt = new CustomEvent('gdprCookiesEnabled', {detail: this._gdprCookie.get()})\r\n    document.dispatchEvent(this._gdprCookiesEnabledEvt)\r\n\r\n    if (this._gdprCookie.isExists() && this._gdprCookie.isNecessaryAccepted()) {\r\n      this._notice.hide()\r\n    } else {\r\n      this._notice.show()\r\n    }\r\n  }\r\n\r\n  //GETTER - SETTER ====================================================================================================\r\n\r\n  set statementUrl (statementUrl) {\r\n    this._statementUrl = statementUrl\r\n  }\r\n\r\n  get statementUrl () {\r\n    return this._statementUrl\r\n  }\r\n\r\n  set implicit (isImplicit) {\r\n    this._implicit = isImplicit\r\n  }\r\n\r\n  get implicit () {\r\n    return this._implicit\r\n  }\r\n\r\n  set cookiesAccepted (isAccepted) {\r\n    this._cookiesAccepted = isAccepted\r\n  }\r\n\r\n  get cookiesAccepted () {\r\n    return this._cookiesAccepted\r\n  }\r\n\r\n  set categories (categories) {\r\n    this._categories = categories\r\n  }\r\n\r\n  get categories () {\r\n    return this._categories\r\n  }\r\n\r\n  set locale (locale) {\r\n    this._locale = locale\r\n  }\r\n\r\n  get locale () {\r\n    return this._locale\r\n  }\r\n\r\n  set timeout (timeout) {\r\n    this._timeout = timeout\r\n  }\r\n\r\n  get timeout () {\r\n    return this._timeout\r\n  }\r\n\r\n  set domain (domain) {\r\n    this._domain = domain\r\n  }\r\n\r\n  get domain () {\r\n    return this._domain\r\n  }\r\n\r\n  set expiration (expiration) {\r\n    this._expiration = expiration\r\n  }\r\n\r\n  get expiration () {\r\n    return this._expiration\r\n  }\r\n\r\n  set isCategoriesCheckedByDefault (isCategoriesCheckedByDefault) {\r\n    this._isCategoriesCheckedByDefault = isCategoriesCheckedByDefault\r\n  }\r\n\r\n  get isCategoriesCheckedByDefault () {\r\n    return this._isCategoriesCheckedByDefault\r\n  }\r\n\r\n  set namespace (namespace) {\r\n    this._namespace = namespace\r\n  }\r\n\r\n  get namespace () {\r\n    return this._namespace\r\n  }\r\n\r\n  set pluginPrefix (pluginPrefix) {\r\n    this._pluginPrefix = pluginPrefix\r\n  }\r\n\r\n  get pluginPrefix () {\r\n    return this._pluginPrefix\r\n  }\r\n}\r\n\r\n// export default { gdprCookieNotice }\r\nexport default {GdprCookieNotice}"]}